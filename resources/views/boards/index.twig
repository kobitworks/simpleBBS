{% extends 'base.twig' %}

{% block title %}ボード一覧 | simpleBBS{% endblock %}

{% block content %}
<section class="c-panel">
    <h2 class="c-panel__title">ボード一覧</h2>
    {% if boards is empty %}
        <p>まだボードがありません。下のフォームから新しいボードを作成しましょう。</p>
    {% else %}
        <ul class="c-board-list">
            {% for board in boards %}
                <li class="c-board-list__item">
                    <a href="?route=boards.show&slug={{ board.slug }}">
                        <span class="c-board-list__title">{{ board.title }}</span>
                        {% if board.description %}
                            <span class="c-board-list__description">{{ board.description }}</span>
                        {% endif %}
                    </a>
                    <span class="c-board-list__date">作成日: {{ board.created_at|date('Y-m-d H:i') }}</span>
                </li>
            {% endfor %}
        </ul>
    {% endif %}
</section>

<section class="c-panel">
    <h2 class="c-panel__title">新規ボード作成</h2>
    {% if errors is not empty %}
        <div class="c-alert">
            <ul>
                {% for error in errors %}
                    <li>{{ error }}</li>
                {% endfor %}
            </ul>
        </div>
    {% endif %}
    <form method="post" action="?route=boards.store" class="c-form">
        <div class="c-form__row">
            <label for="title">ボード名</label>
            <input type="text" id="title" name="title" value="{{ old.title|default('') }}" required>
        </div>
        <div class="c-form__row">
            <label for="slug">スラッグ (URL識別子)</label>
            <input type="text" id="slug" name="slug" value="{{ old.slug|default('') }}" placeholder="未入力の場合はボード名から自動生成">
        </div>
        <div class="c-form__row">
            <label for="description">説明</label>
            <textarea id="description" name="description" rows="3">{{ old.description|default('') }}</textarea>
        </div>
        <div class="c-form__actions">
            <button type="submit" class="c-button">作成</button>
        </div>
    </form>
</section>
{% endblock %}
