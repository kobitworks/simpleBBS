{% extends 'base.twig' %}

{% block title %}パスワード設定 | simpleBBS{% endblock %}

{% block content %}
<section class="c-panel">
    <h2 class="c-panel__title">パスワードを設定してください</h2>
    <p>{{ user.email }} 宛に送信されたリンクからアクセスしています。新しいパスワードを入力してください。</p>

    {% if errors is not empty %}
        <div class="c-alert">
            <ul>
                {% for error in errors %}
                    <li>{{ error }}</li>
                {% endfor %}
            </ul>
        </div>
    {% endif %}

    <form method="post" action="?route=auth.password.update" class="c-form">
        <input type="hidden" name="token" value="{{ token }}">
        <div class="c-form__row c-form__row--static">対象ユーザー: <strong>{{ user.name ?: user.email }}</strong></div>
        <div class="c-form__row">
            <label for="password">新しいパスワード</label>
            <input type="password" name="password" id="password" required minlength="8">
        </div>
        <div class="c-form__row">
            <label for="password_confirmation">新しいパスワード（確認）</label>
            <input type="password" name="password_confirmation" id="password_confirmation" required minlength="8">
        </div>
        <div class="c-form__actions">
            <button type="submit" class="c-button">パスワードを設定する</button>
        </div>
    </form>
</section>
{% endblock %}
